<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>gcp - Home</title>
  <meta name="author" content="Nhat Tong"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Home",
    
    "url": "https:\/\/blog.nhat-tong.com"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/blog.nhat-tong.com"
  
  
  
  
}
</script>

<meta property="og:title" content="gcp" />
<meta property="og:url" content="https://blog.nhat-tong.com/tags/gcp/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Home" />

  <meta name="twitter:title" content="gcp" />
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.79.0" />
  <link rel="alternate" href="https://blog.nhat-tong.com/index.xml" type="application/rss+xml" title="Home"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://blog.nhat-tong.com/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://blog.nhat-tong.com/css/highlight.min.css" /><link rel="stylesheet" href="https://blog.nhat-tong.com/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://blog.nhat-tong.com">Home</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/">Blog</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/page/about/">About</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/tags">Tags</a>
            </li>
          
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="tags-heading">
              
                <h1>gcp</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
  <div class="container" role="main">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        
        <div class="posts-list">
          
            <article class="post-preview">
    <a href="https://blog.nhat-tong.com/post/2024/02/gcp/cloudsql/">
        <h2 class="post-title">GCP - How to connect to CloudSQL through private IP</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;February 2, 2024
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;3&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;561&nbsp;words
  
  
  
</span>


    </p>
    <div class="post-entry">
        
        Recently, I work on a project on which we need to access privately to CloudSQL instance (Postgres in our case). In this article, we will explore two options to do so. This guideline can still apply for other type of CloudSQL (SQL Server or MySQL).
Prerequisite In order to connect privately to CloudSQL, you need to have :
 CloudSQL with private services access connection enabled  Enable Cloud SQL Admin API A private virtual machine (bastion) on the same network as your private services connection  Required access scopes: Cloud Platform &amp; Cloud SQL or Allow full access to all Cloud APIs   A firewall rule allowing IAP on port 22 (SSH)  gcloud compute --project=[YOUR_PROJECT_ID] firewall-rules create allow-iap --direction=INGRESS --priority=1000 --network=[YOUR_NETWORK_NAME] --action=ALLOW --rules=tcp:22 --source-ranges=35.
        <a href="https://blog.nhat-tong.com/post/2024/02/gcp/cloudsql/" class="post-read-more">[Read More]</a>
        
    </div>

    
    <div class="blog-tags">
        
        <a href="https://blog.nhat-tong.com/tags/cloudsql/">cloudsql</a>&nbsp;
        
        <a href="https://blog.nhat-tong.com/tags/gcp/">gcp</a>&nbsp;
        
    </div>
    

</article>
          
            <article class="post-preview">
    <a href="">
        <h2 class="post-title">GCP Filestore Enterprise Multishare</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;November 7, 2023
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;0&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;0&nbsp;words
  
  
  
</span>


    </p>
    <div class="post-entry">
        
        
        
    </div>

    
    <div class="blog-tags">
        
        <a href="https://blog.nhat-tong.com/tags/filestore/">filestore</a>&nbsp;
        
        <a href="https://blog.nhat-tong.com/tags/gcp/">gcp</a>&nbsp;
        
    </div>
    

</article>
          
            <article class="post-preview">
    <a href="">
        <h2 class="post-title">GCP Load Balancer</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;August 20, 2022
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;0&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;0&nbsp;words
  
  
  
</span>


    </p>
    <div class="post-entry">
        
        <p><img src="../images/gcp_lb_chart.png" alt="GCP Load Balancer Chart"></p>
<p><img src="../images/gcp_lb_table.png" alt="GCP Load Balancer Table"></p>

        
    </div>

    
    <div class="blog-tags">
        
        <a href="https://blog.nhat-tong.com/tags/gcp/">gcp</a>&nbsp;
        
        <a href="https://blog.nhat-tong.com/tags/lb/">lb</a>&nbsp;
        
    </div>
    

</article>
          
            <article class="post-preview">
    <a href="">
        <h2 class="post-title">GCP-Storage</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;May 1, 2022
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;3&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;556&nbsp;words
  
  
  
</span>


    </p>
    <div class="post-entry">
        
        Cloud Storage   Google Cloud object storage service
  Use cases: website content, data for archiving
  High availability
  Storage class
 Standard  Geo redundancy Best for short-term storage and frequently accessed data   Nearline  Geo reduendancy Best for backups and data accessed less than once a month   Coldline  Best for disaster recovery and data accessed less than once a quarter (3 months)   Archive  Best for long-term digital preservation of data accessed less than once a year data is available within a few seconds no SLA      Access control
        <a href="" class="post-read-more">[Read More]</a>
        
    </div>

    
    <div class="blog-tags">
        
        <a href="https://blog.nhat-tong.com/tags/gcp/">gcp</a>&nbsp;
        
    </div>
    

</article>
          
            <article class="post-preview">
    <a href="">
        <h2 class="post-title">GCP-Instance groups</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;April 14, 2021
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;0&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;0&nbsp;words
  
  
  
</span>


    </p>
    <div class="post-entry">
        
        
        
    </div>

    
    <div class="blog-tags">
        
        <a href="https://blog.nhat-tong.com/tags/gcp/">gcp</a>&nbsp;
        
        <a href="https://blog.nhat-tong.com/tags/terraform/">terraform</a>&nbsp;
        
    </div>
    

</article>
          
            <article class="post-preview">
    <a href="https://blog.nhat-tong.com/post/2021/02/gcp/iam-breakdown/">
        <h2 class="post-title">GCP-IAM (Identity and Access Management)</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;February 14, 2021
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;6&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;1172&nbsp;words
  
  
  
</span>


    </p>
    <div class="post-entry">
        
        <p>In this article, we discuss an important part of GCP: IAM or Identity and Access Management.</p>
<p>Before going into details, let&rsquo;s take a quick look at IAM Hierarchy.</p>
<p><img src="../images/cloud_iam_resource_hierarchy_2.png" alt="Cloud IAM Hierarchy"></p>
<p>As you can see, IAM includes some basic objects at each level: organization, folders, projects and resources.
GCP allows you to set IAM policies at any of these levels.</p>
<p>Understanding these IAM objects and how to set IAM at the corresponding level will help you to design your solution following Google&rsquo;s recommended best practices.</p>
        <a href="https://blog.nhat-tong.com/post/2021/02/gcp/iam-breakdown/" class="post-read-more">[Read More]</a>
        
    </div>

    
    <div class="blog-tags">
        
        <a href="https://blog.nhat-tong.com/tags/gcp/">gcp</a>&nbsp;
        
        <a href="https://blog.nhat-tong.com/tags/terraform/">terraform</a>&nbsp;
        
        <a href="https://blog.nhat-tong.com/tags/iam/">iam</a>&nbsp;
        
    </div>
    

</article>
          
            <article class="post-preview">
    <a href="">
        <h2 class="post-title">GCP-Cloud Function</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;February 7, 2021
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;0&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;0&nbsp;words
  
  
  
</span>


    </p>
    <div class="post-entry">
        
        
        
    </div>

    
    <div class="blog-tags">
        
        <a href="https://blog.nhat-tong.com/tags/gcp/">gcp</a>&nbsp;
        
        <a href="https://blog.nhat-tong.com/tags/terraform/">terraform</a>&nbsp;
        
    </div>
    

</article>
          
            <article class="post-preview">
    <a href="https://blog.nhat-tong.com/post/2021/01/gcp/sharing-networks/">
        <h2 class="post-title">GCP-Sharing networks across projects</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;January 30, 2021
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;6&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;1251&nbsp;words
  
  
  
</span>


    </p>
    <div class="post-entry">
        
        <p>In GCP, you have two options for sharing networks across GCP projects: Shared VPC and VPC Network Peering.</p>
<p>In this article, we discuss more detail its features and how to implement them.</p>
<h3 id="shared-vpc-overview"><strong>Shared VPC overview</strong></h3>
<ul>
<li>Shared VPC is a centralized approach to multi-project networking allowing an organization to connect resources from multiple projects to a common Virtual Private Cloud (VPC) network, so that they can communicate with each other securely and efficiently using <strong>internal IPs</strong> from that network.</li>
<li>When you use Shared VPC, you designate a project as a host project and attach one or more other service projects to it</li>
<li>Shared VPC network is created and managed by a Shared VPC Admin which is nominated by an Organization Admin</li>
<li>Shared VPC Admin is responsible to enable shared vpc feature on the host project and attach service projects to the host project. He can also delegate access to some or all subnets in the shared VPC network by granting the <em>compute.networkUser</em> role for Service Project Admins at the project level or the subnet level</li>
<li>Service Project Admins in his turn maintain ownership and control over resources defined in their service projects. They could create and manage resources (vm instances, instance templates, instance groups, static internal ip, load balancers) in the shared VPC.</li>
</ul>
<p><img src="../images/gcp_shared_vpc_example.png" alt="shared vpc"></p>
        <a href="https://blog.nhat-tong.com/post/2021/01/gcp/sharing-networks/" class="post-read-more">[Read More]</a>
        
    </div>

    
    <div class="blog-tags">
        
        <a href="https://blog.nhat-tong.com/tags/gcp/">gcp</a>&nbsp;
        
        <a href="https://blog.nhat-tong.com/tags/terraform/">terraform</a>&nbsp;
        
        <a href="https://blog.nhat-tong.com/tags/vpc/">vpc</a>&nbsp;
        
    </div>
    

</article>
          
            <article class="post-preview">
    <a href="https://blog.nhat-tong.com/post/2020/12/gcp/cloud-nat-multi-vpc-4/">
        <h2 class="post-title">GCP-Cloud NAT with multiple VPC</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;December 13, 2020
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;5&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;1060&nbsp;words
  
  
  
</span>


    </p>
    <div class="post-entry">
        
        <p>As you know in the previous article, we could take advantage of Cloud NAT to go to the Internet without an external IP.</p>
<p>But the NAT gateway created in one VPC network cannot provide NAT to VMs in other VPC networks connected by using VPC Network Peering, even if the VMs in peered networks are in the same region as the gateway.</p>
<p>So, how we can use Cloud NAT in case of we have some VPC networks ? I will explain to you in this article.</p>
        <a href="https://blog.nhat-tong.com/post/2020/12/gcp/cloud-nat-multi-vpc-4/" class="post-read-more">[Read More]</a>
        
    </div>

    
    <div class="blog-tags">
        
        <a href="https://blog.nhat-tong.com/tags/gcp/">gcp</a>&nbsp;
        
    </div>
    

</article>
          
            <article class="post-preview">
    <a href="https://blog.nhat-tong.com/post/2020/12/gcp/private-access-cloud-nat-3/">
        <h2 class="post-title">GCP-Google Private Access &amp; Cloud NAT</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;December 13, 2020
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;3&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;560&nbsp;words
  
  
  
</span>


    </p>
    <div class="post-entry">
        
        <p>This is the third part of GCP&rsquo;s series. In the first article, you have seen that a virtual machine needs to have an external IP to reach out to the services outside of the VPC in which it is deployed.</p>
<p>Topics to cover:</p>
<ul>
<li>Private Google Access</li>
<li>Cloud NAT</li>
</ul>
        <a href="https://blog.nhat-tong.com/post/2020/12/gcp/private-access-cloud-nat-3/" class="post-read-more">[Read More]</a>
        
    </div>

    
    <div class="blog-tags">
        
        <a href="https://blog.nhat-tong.com/tags/gcp/">gcp</a>&nbsp;
        
    </div>
    

</article>
          
        </div>
        
          <ul class="pager main-pager">
            
            
              <li class="next">
                <a href="https://blog.nhat-tong.com/tags/gcp/page/2/">Older Posts &rarr;</a>
              </li>
            
          </ul>
        
      </div>
    </div>
  </div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:thqnhat@outlook.com" title="Email me" target="_blank">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/nhat-tong" title="GitHub" target="_blank">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/hoang-quoc-nhat-tong-8b738233" title="LinkedIn" target="_blank">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="https://nhat-tong.github.com">Nhat Tong</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2024
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://blog.nhat-tong.com">Home</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://blog.nhat-tong.com/js/main.js"></script>
<script src="https://blog.nhat-tong.com/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://blog.nhat-tong.com/js/load-photoswipe.js"></script>









    
  </body>
</html>

